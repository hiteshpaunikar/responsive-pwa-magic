<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ISRO Space Applications Centre</title>
    <meta name="description" content="ISRO Space Applications Centre - Doctor Search and Information Portal" />
    <meta name="author" content="ISRO SAC" />
    <meta name="theme-color" content="#1a237e" />
    <meta property="og:image" content="/og-image.png" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/png" href="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" />
    <link rel="apple-touch-icon" href="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        min-height: 100vh;
        background: linear-gradient(to bottom, #1a237e, #3949ab);
      }
      .card-hover {
        transition: all 0.3s;
      }
      .card-hover:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      .glass {
        backdrop-filter: blur(16px);
        background: rgba(255, 255, 255, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
    </style>
  </head>

  <body>
    <header class="p-4 text-white">
      <h1 class="display-6 mb-1">Indian Space Research Organisation</h1>
      <h2 class="h4">Space Applications Centre</h2>
      <p class="small">Ahmedabad-380015</p>
      
      <!-- Notification permission button -->
      <div id="notificationContainer" class="mt-3">
        <button id="notificationBtn" class="btn btn-outline-light btn-sm">
          Enable Notifications
        </button>
      </div>
    </header>

    <main class="container py-5">
      <div class="row row-cols-2 row-cols-md-4 g-4">
        <!-- Menu Items -->
        <div class="col">
          <a href="/doctors.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Doctor List" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Doctor List</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/guest-house.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Guest House" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Guest House</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/doctordata.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Doctors Data" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Doctors Data</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/supplementary.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Supplementary Item" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Supplementary Item</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/inadmissible.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Inadmissible Items" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Inadmissible Items</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/telephone.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Imp. Telephone Number" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Imp. Telephone Number</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/holidays.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="Holiday List" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">Holiday List</h3>
                </div>
              </div>
            </div>
          </a>
        </div>

        <div class="col">
          <a href="/about.html" class="text-decoration-none">
            <div class="card h-100 card-hover bg-white bg-opacity-90">
              <div class="card-body text-center">
                <div class="d-flex flex-column align-items-center gap-2">
                  <div class="w-75 mb-2">
                    <img src="/lovable-uploads/14c17238-81e6-4488-b71a-daad286afffa.png" alt="About" class="img-fluid">
                  </div>
                  <h3 class="h6 text-dark mb-0">About</h3>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
    </main>

    <!-- Add Lovable script before other scripts -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Service Worker Registration
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', async () => {
          try {
            const registration = await navigator.serviceWorker.register('/sw.js');
            console.log('ServiceWorker registration successful');
            initializeNotifications(registration);
          } catch (err) {
            console.log('ServiceWorker registration failed: ', err);
          }
        });
      }

      // Notification functionality
      async function initializeNotifications(registration) {
        const notificationBtn = document.getElementById('notificationBtn');
        
        if (!('Notification' in window)) {
          notificationBtn.style.display = 'none';
          return;
        }

        if (Notification.permission === 'granted') {
          notificationBtn.textContent = 'Notifications Enabled';
          notificationBtn.disabled = true;
        }

        notificationBtn.addEventListener('click', async () => {
          try {
            const permission = await Notification.requestPermission();
            
            if (permission === 'granted') {
              notificationBtn.textContent = 'Notifications Enabled';
              notificationBtn.disabled = true;
              
              // Subscribe to push notifications
              const subscribeOptions = {
                userVisibleOnly: true,
                applicationServerKey: urlBase64ToUint8Array('YOUR_VAPID_PUBLIC_KEY')
              };
              
              const pushSubscription = await registration.pushManager.subscribe(subscribeOptions);
              console.log('Push Subscription:', pushSubscription);
              
              // Here you would typically send the pushSubscription to your server
              // to store it for sending push notifications later
            }
          } catch (error) {
            console.error('Error enabling notifications:', error);
          }
        });
      }

      // Helper function to convert VAPID key
      function urlBase64ToUint8Array(base64String) {
        const padding = '='.repeat((4 - base64String.length % 4) % 4);
        const base64 = (base64String + padding)
          .replace(/\-/g, '+')
          .replace(/_/g, '/');

        const rawData = window.atob(base64);
        const outputArray = new Uint8Array(rawData.length);

        for (let i = 0; i < rawData.length; ++i) {
          outputArray[i] = rawData.charCodeAt(i);
        }
        return outputArray;
      }
    </script>
  </body>
</html>
